<p class="is-size-2 title">Join NeighbourGood</p>

<div class='' ng-if="register.form.$submitted && !register.isAuthenticated()">
  Sorry, you made a mistake while registering.
</div>


<form name='register.form' ng-submit="register.handleRegister()" novalidate>

  <div class="field">
    <label class="label" for='firstname'>First Name</label>
    <div class="control">
      <input class="input" type="text" placeholder="First Name" name="firstname" ng-model="register.data.firstname" required ng-class = " {'is-danger': register.isDanger('firstname')}"/>
      <!-- in case of input error -->
      <div ng-messages="register.form.firstname.$error" ng-if="register.form.firstname.$dirty || register.form.$submitted">
        <div class='' ng-message="required">Please provide your first name</div>
      </div>
      <!-- end in case of error -->
    </div>
  </div>
  <div class="field">
    <label class="label" for="surname">Surname</label>
    <div class="control">
      <input class="input" type="text" placeholder="Surname" name='surname' ng-model="register.data.surname" required ng-class = " {'is-danger': register.isDanger('surname')}" />
      <!-- in case of input error -->
      <div ng-messages="register.form.surname.$error" ng-if="register.form.surname.$dirty || register.form.$submitted">
        <div class='' ng-message="required">Please provide your surname</div>
      </div>
      <!-- end in case of error -->
    </div>
  </div>
  <div class="field">
    <label class="label" for="email">Email</label>
    <div class="control">
      <input class="input" type="email" placeholder="Email" name='email' ng-model="register.data.email" required ng-class = " {'is-danger': register.isDanger('email')}" />
      <!-- in case of input error -->
      <div ng-messages="register.form.email.$error" ng-if="register.form.email.$dirty || register.form.$submitted">
        <div class='' ng-message="required">Please provide an email address</div>
        <div class= '' ng-message="email">This must be an email address</div>
        <div class= '' ng-message="unique">Sorry, this email address has already been registered</div>
      </div>
      <!-- end in case of error -->
    </div>
  </div>
  <div class="field">
    <label class="label" for="password">Password</label>
    <div class="control">
      <input class="input" type="password" placeholder="Password" name='password' ng-model="register.data.password" required ng-class = " {'is-danger': register.isDanger('password')}" />
      <!-- in case of input error -->
      <div ng-messages="register.form.password.$error" name='password' ng-if="register.form.password.$dirty || register.form.$submitted">
        <div class='' ng-message="required">Please provide a password</div>
      </div>
      <!-- end in case of error -->
    </div>
  </div>
  <div class="field">
    <label class="label" for="passwordConfirmation">Confirm Password</label>
    <div class="control">
      <input class="input" type="password" placeholder="Confirm Password" name='passwordConfirmation' ng-model="register.data.passwordConfirmation" required ng-class = " {'is-danger': register.isDanger('passwordConfirmation')}" />
      <!-- in case of input error -->
      <div ng-messages="register.form.passwordConfirmation.$error" ng-if="register.form.passwordConfirmation.$dirty || register.form.$submitted">
        <div class='' ng-message="required">Please confirm your password</div>
      </div>
      <!-- end in case of error -->

    </div>
  </div>
  <div class="field">
    <label class="label" class="file-label"><label class="label" class="file-label">
      <input class="file-input" type="file" ng-model="register.data.image" upload-image>
      {{ register.data.image }} 
      <span class="file-cta">
        <span class="file-icon">
          <i class="fa fa-upload"></i>
        </span>
        <span class="file-label">
          Upload a profile picture ..
        </span>
      </span>
    </label>
</div>

<div class='' ng-if="register.form.$submitted && !main.isAuthenticated()">
  Sorry, you made a mistake while registering.
</div>
<p class="help">
  <button class="button submit">Submit</button>
</p>
</form>
